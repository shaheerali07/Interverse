{"ast":null,"code":"var _jsxFileName = \"/home/hp/Learn/Interverse/Front-end/src/components/home/Welcome.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from '../../userContext/UserContext';\nimport ChatBox from '../chat/chatBox';\nimport List from '../usersList/list';\nimport NavBar from './navbar';\nimport Api from '../../api/Api';\nimport { getAllUsersApi } from '../../constants';\nexport default function Welcome(props) {\n  const [user, setUser] = useState({});\n  const [selectedUser, setSelectedUser] = useState({});\n  const [invitationDetails, setInvitationDetails] = useState({});\n  const [allUsers, setAllUsers] = useState([]);\n  const [isInvited, setIsInvited] = useState(false);\n  const [state, userDispatch] = useContext(UserContext);\n  let history = useHistory();\n  useEffect(() => {\n    let data = localStorage.getItem('userData');\n\n    if (data.length) {\n      Api.get(`${process.env.REACT_APP_BASE_URL}${getAllUsersApi}`).then(res => {\n        setAllUsers(res.data);\n      }).catch(err => console.log(err));\n      setUser(JSON.parse(data));\n      userDispatch({\n        type: 'SET_USER',\n        payload: JSON.parse(data)\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(() => {\n    props.socket.on('InviteNotification', data => {\n      handleNotification(data);\n    });\n  });\n\n  const handleNotification = data => {\n    setIsInvited(true);\n    setInvitationDetails(data);\n  };\n\n  const handleLogOut = async () => {\n    await userDispatch({\n      type: 'LOGOUT'\n    });\n    history.push('/login');\n  };\n\n  const handleSelectedUser = (e, user) => {\n    setSelectedUser(user);\n    userDispatch({\n      type: 'SET_INVITED_USER',\n      payload: user\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar, {\n    user: user,\n    handleLogOut: handleLogOut,\n    isInvited: isInvited,\n    setIsInvited: setIsInvited,\n    invitationDetails: invitationDetails,\n    allUsers: allUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mainContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mainContentRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: true,\n    lg: \"8\",\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    handleSelectedUser: handleSelectedUser,\n    socket: props.socket,\n    selectedUser: selectedUser,\n    user: user,\n    allUsers: allUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/home/hp/Learn/Interverse/Front-end/src/components/home/Welcome.js"],"names":["React","useContext","useEffect","useState","Col","Row","useHistory","UserContext","ChatBox","List","NavBar","Api","getAllUsersApi","Welcome","props","user","setUser","selectedUser","setSelectedUser","invitationDetails","setInvitationDetails","allUsers","setAllUsers","isInvited","setIsInvited","state","userDispatch","history","data","localStorage","getItem","length","get","process","env","REACT_APP_BASE_URL","then","res","catch","err","console","log","JSON","parse","type","payload","socket","on","handleNotification","handleLogOut","push","handleSelectedUser","e"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from '../../userContext/UserContext';\nimport ChatBox from '../chat/chatBox';\nimport List from '../usersList/list';\nimport NavBar from './navbar';\nimport Api from '../../api/Api';\nimport { getAllUsersApi } from '../../constants';\nexport default function Welcome(props) {\n  const [user, setUser] = useState({});\n  const [selectedUser, setSelectedUser] = useState({});\n  const [invitationDetails, setInvitationDetails] = useState({});\n  const [allUsers, setAllUsers] = useState([]);\n  const [isInvited, setIsInvited] = useState(false);\n  const [state, userDispatch] = useContext(UserContext);\n  let history = useHistory();\n\n  useEffect(() => {\n    let data = localStorage.getItem('userData');\n    if (data.length) {\n      Api.get(`${process.env.REACT_APP_BASE_URL}${getAllUsersApi}`)\n        .then(res => {\n          setAllUsers(res.data);\n        })\n        .catch(err => console.log(err));\n      setUser(JSON.parse(data));\n      userDispatch({ type: 'SET_USER', payload: JSON.parse(data) });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    props.socket.on('InviteNotification', data => {\n      handleNotification(data);\n    });\n  });\n  const handleNotification = data => {\n    setIsInvited(true);\n    setInvitationDetails(data);\n  };\n  const handleLogOut = async () => {\n    await userDispatch({ type: 'LOGOUT' });\n    history.push('/login');\n  };\n  const handleSelectedUser = (e, user) => {\n    setSelectedUser(user);\n    userDispatch({ type: 'SET_INVITED_USER', payload: user });\n  };\n  return (\n    <>\n      <NavBar\n        user={user}\n        handleLogOut={handleLogOut}\n        isInvited={isInvited}\n        setIsInvited={setIsInvited}\n        invitationDetails={invitationDetails}\n        allUsers={allUsers}\n      />\n      <div className='mainContent'>\n        <Row className='mainContentRow'>\n          <Col xs lg='8' className='d-flex justify-content-center'>\n            <List\n              handleSelectedUser={handleSelectedUser}\n              socket={props.socket}\n              selectedUser={selectedUser}\n              user={user}\n              allUsers={allUsers}\n            />\n          </Col>\n        </Row>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}